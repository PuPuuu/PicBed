# 基础

一个汇编语言程序以文本格式储存(正如一个高级语言程序)。每条汇编指令代表确切的一条机器指令。

一条汇编指令的通常格式为：

```
mnemonic(助记符) operand(s)(操作数)
```

汇编程序是一个读包含汇编指令的文本文件和将汇编语言转换成机器代码的程序。编译器是为高级编程语言做同样转换的程序。一个汇编程序比一个编译器要简单。每条汇编语句接代表一个唯一的机器指令。高级语言更复杂而且可能要求更多的机器指令。

## 指令操作数

机器代码指令拥有个数和类型不同的操作数；然而，通常每个指令有几个固定的操作数(0到3个)。操作数可以有下面的类型：

**寄存器:** 这些操作数直接指向CPU寄存器里的内容。

**内存:** 这些操作数指向内存里的数据。数据的地址可能是硬编码到指令里的常量或可能直接使用寄存器的值计算得到。距离段的起始地址的偏移值即为此地址。
**立即数:** 这些操作数是指令本身列出的固定的值。它们储存在指令本身(在代码段)，而不在数据段。

**暗指的操作数:** 这些操作数没有明确显示。例如：往寄存器或内存增加1的加法指令。1是暗指的。

## 基本指令

- mov 将数据从一个地方移到另一个地方（类似赋值）

```
mov dest (目的操作数), src(源操作数)
```

> 一个指令的两个操作数不能同时是内存操作数

## 指示符

指示符是由汇编程序产生的而不是由CPU产生。它们通常用来要么指示汇编程序做什么要么提示汇编程序什么。

- equ 用来定义一个符号。符号被命名为可以在汇编程序里使用的常量。

```
symbol equ value
```

- %define 通常用来定义一个宏常量

```
%define SIZE 100
```

- 数据指示符 使用在数据段中用来定义内存空间。保留内存方法：

  - 为数据定义空间。使用RESX指示符中的一个。X可由字母替代，字母由需要储存的对象的大小来决定。可能的值：

    | 单位 | 字母 |
    | :--: | :--: |
    | 字节 |  B   |
    |  字  |  W   |
    | 双字 |  D   |
    | 四字 |  Q   |
    | 十字 |  T   |

  - (同时定义一个初始值)使用DX指示符中的一个。X可以由字母替代，字母的值与RESX里的值一样。使用变量来标记内存位置是非常普遍的。变量使得在代码中指向内存位置变得容易。

    ![image-20230616105053658](/Users/yejunjie/hub/notes/assets/image-20230616105053658.png)

​				双引号和单引号被同等对待。连续定义的数据储存在连续的内存中。也就是说，字L2就				储存在L1的后面。内存的顺序可以同样被定义。

![image-20230616105244896](/Users/yejunjie/hub/notes/assets/image-20230616105244896.png)

![image-20230616105553091](/Users/yejunjie/hub/notes/assets/image-20230616105553091.png)

​				如果一个平常的变量被使用了，它被解释为数据的地址(或偏移)。如果变量被放置在方		括号([])中，它就被解释为在这个地址中的数据。

![image-20230616133741672](/Users/yejunjie/hub/notes/assets/image-20230616133741672.png)